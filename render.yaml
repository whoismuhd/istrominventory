services:
  - type: web
    name: istrominventory
    env: python
    buildCommand: pip install -r requirements.txt && python data_persistence_guard.py && python deployment_diagnostic.py && echo "ðŸš€ BUILD COMPLETE - NO DATABASE OPERATIONS - DATA IS SAFE"
    startCommand: streamlit run istrominventory.py --server.port $PORT --server.address 0.0.0.0
    envVars:
      - key: PORT
        value: 10000
      - key: DATABASE_TYPE
        value: postgresql
      - key: DATABASE_URL
        value: "postgresql://istrominventory_db_user:FKYfCmnleXrfhkNo5fiwExU0ARC6onae@dpg-d3l04shr0fns73euk800-a.frankfurt-postgres.render.com:5432/istrominventory_db"
      - key: DEPLOYMENT_VERSION
        value: "2.0"
      - key: DISABLE_MIGRATION
        value: "true"
      - key: NO_MIGRATION
        value: "true"
      - key: PRODUCTION_MODE
        value: "true"
      - key: DATA_PROTECTION
        value: "active"


